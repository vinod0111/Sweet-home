{
	"info": {
		"_postman_id": "8ec1e95b-b567-4842-8d33-8c3caf0fa8d4",
		"name": "Sweet-Home",
		"description": "This is an API Documentation for the ‘Hotel room booking application’ which is used to book rooms for a single hotel. The backend of the application comprises of 3 independent microservices: Booking Service, Payment Service and Notification Service.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "localhost:8080/booking",
			"request": {
				"method": "POST",
				"header": [
					{
						"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"fromDate\": \"2021-07-17\",\r\n    \"toDate\": \"2021-07-18\",\r\n    \"aadharNumber\": \"Akash Sinha-Aadhar Number\",\r\n    \"numOfRooms\": 2\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "localhost:8080/booking",
					"host": [
						"localhost"
					],
					"port": "8080",
					"path": [
						"booking"
					]
				},
				"description": "This an API defined in the **Booking Service**. This service is responsible to take input from user like- toDate, fromDate, aadharNumber and number of rooms required(count) and save it in its RDS database and also generate a random list of room numbers depending on the count and display the room number list(roomNumbers) and roomPrice to the user, then if the user wants to go ahead with the booking, then he can simply provide the payment related details like paymentMode, upiId, cardNumber. These details which will be further sent to the payment service to and the booking will be confirmed.\n\nThis endpoint is responsible to collect  information  like fromDate, toDate,aadhar number,count from user and save it in its database and also returns the corresponding booking details.\n\n**Note** that the transaction id returned in the response of this API will be '0' which represents that no transaction has happened so far for this booking. Only after the payment is done, transaction id will store the actual transaction id associated with the transaction."
			},
			"response": [
				{
					"name": "localhost:8080/booking",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"fromDate\": \"2021-05-16\",\r\n    \"toDate\": \"2021-07-25\",\r\n    \"aadharNumber\": \"Akash Sinha-Aadhar Number\",\r\n    \"numOfRooms\": 3\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{host_name}}:8080/booking",
							"protocol": "http",
							"host": [
								"{{host_name}}"
							],
							"port": "8080",
							"path": [
								"booking"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Transfer-Encoding",
							"value": "chunked"
						},
						{
							"key": "Date",
							"value": "Sun, 02 May 2021 06:31:43 GMT"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=60"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 1,\n    \"fromDate\": \"2021-05-16T00:00:00.000+00:00\",\n    \"toDate\": \"2021-07-25T00:00:00.000+00:00\",\n    \"aadharNumber\": \"Akash Sinha-Aadhar Number\",\n    \"roomNumbers\": \"26,21,62\",\n    \"roomPrice\": 3000,\n    \"trancationId\": 0,\n    \"bookedOn\": \"2021-05-02T06:31:42.942+00:00\"\n}"
				},
				{
					"name": "localhost:8080/booking",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the Content-Type header generated by Postman.",
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"fromDate\": \"2021-06-16\",\r\n    \"toDate\": \"2021-07-25\",\r\n    \"aadharNumber\": \"Akash Sinha-Aadhar Number\",\r\n    \"numOfRooms\": 2\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{host_name}}:8080/booking",
							"protocol": "http",
							"host": [
								"{{host_name}}"
							],
							"port": "8080",
							"path": [
								"booking"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Transfer-Encoding",
							"value": "chunked"
						},
						{
							"key": "Date",
							"value": "Sun, 02 May 2021 06:33:48 GMT"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=60"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 3,\n    \"fromDate\": \"2021-06-16T00:00:00.000+00:00\",\n    \"toDate\": \"2021-07-25T00:00:00.000+00:00\",\n    \"aadharNumber\": \"Akash Sinha-Aadhar Number\",\n    \"roomNumbers\": \"21,59\",\n    \"roomPrice\": 2000,\n    \"trancationId\": 0,\n    \"bookedOn\": \"2021-05-02T06:33:48.488+00:00\"\n}"
				}
			]
		},
		{
			"name": "localhost:8083/transaction",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"paymentMode\": \"CARD\",\r\n\t\"bookingId\": 1,\r\n\t\"upiId\":\"MyUPIId\",\r\n\t\"cardNumber\":\"My card No\" \r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{host_name}}:8083/transaction",
					"protocol": "http",
					"host": [
						"{{host_name}}"
					],
					"port": "8083",
					"path": [
						"transaction"
					]
				},
				"description": "This is an endpoint defined in the **payment service**. The API to make transaction in the Booking service will interact with this endpoint to pass on the transaction details and get the transaction Id in return. \n\nYou can use this endpoint to unit-test  the logic of the payment service."
			},
			"response": []
		},
		{
			"name": "localhost:8080/booking/1/payment",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"paymentMode\": \"CARD\",\r\n\t\"bookingId\": 1,\r\n\t\"upiId\":\"MyUPIId\",\r\n\t\"cardNumber\":\"Test Card 2\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{host_name}}:8080/booking/1/transaction",
					"protocol": "http",
					"host": [
						"{{host_name}}"
					],
					"port": "8080",
					"path": [
						"booking",
						"1",
						"transaction"
					]
				},
				"description": "This endpoint has to be defined in the **Booking Service**\n\nThis endpoint is responsible to take the payment-related details from the user and send it to the payment service; get the transactionId and save the corresponding transactionId in the booking table. Please note that for the paymentMode, if the user provides any other input apart from the ’UPI’ or ‘CARD’, then it means that the user is not interested in the booking and wants to opt-out and this endpoint will throw a custom response with the message \"Invalid mode of payment\"."
			},
			"response": [
				{
					"name": "localhost:8080/booking/1/payment",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"paymentMode\": \"CARD\",\r\n\t\"bookingId\": 1,\r\n\t\"upiId\":\"\",\r\n\t\"cardNumber\":\"Card 1 details\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{host_name}}:8080/booking/1/transaction",
							"protocol": "http",
							"host": [
								"{{host_name}}"
							],
							"port": "8080",
							"path": [
								"booking",
								"1",
								"transaction"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Transfer-Encoding",
							"value": "chunked"
						},
						{
							"key": "Date",
							"value": "Sun, 02 May 2021 06:32:59 GMT"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=60"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 1,\n    \"fromDate\": \"2021-05-16T00:00:00.000+00:00\",\n    \"toDate\": \"2021-07-25T00:00:00.000+00:00\",\n    \"aadharNumber\": \"Akash Sinha-Aadhar Number\",\n    \"roomNumbers\": \"26,21,62\",\n    \"roomPrice\": 3000,\n    \"trancationId\": 2,\n    \"bookedOn\": \"2021-05-02T06:31:42.942+00:00\"\n}"
				},
				{
					"name": "localhost:8080/booking/1/payment",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"paymentMode\": \"Random payment mode\",\r\n\t\"bookingId\": 3,\r\n\t\"upiId\":\"UPI Details\",\r\n\t\"cardNumber\":\"\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{host_name}}:8080/booking/3/transaction",
							"protocol": "http",
							"host": [
								"{{host_name}}"
							],
							"port": "8080",
							"path": [
								"booking",
								"3",
								"transaction"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Transfer-Encoding",
							"value": "chunked"
						},
						{
							"key": "Date",
							"value": "Sun, 02 May 2021 06:35:32 GMT"
						},
						{
							"key": "Connection",
							"value": "close"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Invalid mode of payment\",\n    \"statusCode\": 400\n}"
				},
				{
					"name": "localhost:8080/booking/1/payment",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"paymentMode\": \"UPI\",\r\n\t\"bookingId\": 5,\r\n\t\"upiId\":\"UPI Details\",\r\n\t\"cardNumber\":\"\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://{{host_name}}:8080/booking/5/transaction",
							"protocol": "http",
							"host": [
								"{{host_name}}"
							],
							"port": "8080",
							"path": [
								"booking",
								"5",
								"transaction"
							]
						}
					},
					"status": "Bad Request",
					"code": 400,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Transfer-Encoding",
							"value": "chunked"
						},
						{
							"key": "Date",
							"value": "Sun, 02 May 2021 06:36:12 GMT"
						},
						{
							"key": "Connection",
							"value": "close"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Invalid Booking Id\",\n    \"statusCode\": 400\n}"
				}
			]
		},
		{
			"name": "localhost:8083/transaction/3",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{host_name}}:8083/transaction/2",
					"protocol": "http",
					"host": [
						"{{host_name}}"
					],
					"port": "8083",
					"path": [
						"transaction",
						"2"
					]
				},
				"description": "This API is defined in the **Payment Service**.\n\nThis API is used to query the transaction details for a given transaction Id."
			},
			"response": [
				{
					"name": "localhost:8083/transaction/3",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://{{host_name}}:8083/transaction/2",
							"protocol": "http",
							"host": [
								"{{host_name}}"
							],
							"port": "8083",
							"path": [
								"transaction",
								"2"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						},
						{
							"key": "Transfer-Encoding",
							"value": "chunked"
						},
						{
							"key": "Date",
							"value": "Sun, 02 May 2021 06:43:06 GMT"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=60"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": 2,\n    \"paymentMode\": \"CARD\",\n    \"bookingId\": 1,\n    \"upiId\": \"\",\n    \"cardNumber\": \"Card 1 details\"\n}"
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "host_name",
			"value": "44.204.67.178",
			"type": "default"
		}
	]
}